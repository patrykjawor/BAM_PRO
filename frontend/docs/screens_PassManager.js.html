<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: screens/PassManager.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: screens/PassManager.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @file PassManager.js - Główny plik zarządzający nawigacją i funkcjonalnością aplikacji.
 * Wykorzystuje React, StyleSheet z 'react-native', useEffect, useState z 'react',
 * createDrawerNavigator z '@react-navigation/drawer', LocalAuthentication z 'expo-local-authentication',
 * ManageApp, AddService, Logout z odpowiednich komponentów.
 * Odpowiada za zarządzanie nawigacją między ekranami, obsługę biometrycznej autoryzacji oraz rysowanie menu bocznego (drawer).
 * 
 * @requires React
 * @requires StyleSheet
 * @requires useEffect
 * @requires useState
 * @requires createDrawerNavigator
 * @requires LocalAuthentication
 * @requires ManageApp
 * @requires AddService
 * @requires Logout
 */
import React from 'react';
import {StyleSheet } from "react-native";
import { createDrawerNavigator } from '@react-navigation/drawer';
import {useEffect } from 'react';
import * as LocalAuthentication from 'expo-local-authentication'
//import { Drawer } from 'react-native-drawer-layout'; MOŻNA DAC POTEM TAKI NA GESTY 
import ManageApp from './ManageApp';
import AddService from "./AddService";
import Logout from "./Logout";

const Drawer = createDrawerNavigator();

/**
 * Komponent PassManager
 * @param {object} navigation - Obiekt nawigacji.
 * @returns {JSX.Element} - Zwraca główny ekran zarządzający aplikacją z menu bocznym (drawer).
 */
export default function PassManager({navigation}){
    // Stan sprawdzający czy biometria jest obsługiwana
    const [isBiometricSupported, setIsBiometricSupported] = React.useState(false);

    // Obsługa autoryzacji biometrycznej
    const handleBiometricAuth = async () => {
        try {
            const { success, error } = await LocalAuthentication.authenticateAsync({
                promptMessage: 'Please authenticate yourself'
            });
            if(success)
                console.info(success)
                console.info("Success");
        }
        catch(error){
            console.error(error);
        }
    }

    // Efekt wykonywany po załadowaniu komponentu
    useEffect(() => {
        (async () => {
            const compatible = await LocalAuthentication.hasHardwareAsync();
            setIsBiometricSupported(compatible);
        })();
        handleBiometricAuth();
    },[]);

    // Renderowanie komponentu
    return(
        &lt;Drawer.Navigator>
            &lt;Drawer.Screen name="Manage Apps" component={ManageApp}>&lt;/Drawer.Screen>
            &lt;Drawer.Screen name="Add service" component={AddService}>&lt;/Drawer.Screen>
            &lt;Drawer.Screen name="Logout" component={Logout}>&lt;/Drawer.Screen>
        &lt;/Drawer.Navigator>
    );
}

// Style komponentu
const style = StyleSheet.create({
    button:{
        marginBottom: 5,
    }
        
})



</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-App.html">App</a></li></ul><h3>Global</h3><ul><li><a href="global.html#api">api</a></li><li><a href="global.html#authenticate2FA">authenticate2FA</a></li><li><a href="global.html#loginUser">loginUser</a></li><li><a href="global.html#registerUser">registerUser</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Thu Nov 30 2023 12:08:00 GMT+0100 (czas środkowoeuropejski standardowy)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
